import fs from "node:fs/promises";
import { producePreset } from "../producers/producePreset.js";
import { createSystemContextWithAuth } from "../system/createSystemContextWithAuth.js";
import { runCreation } from "./runCreation.js";
export async function runPreset(preset, settings) {
    const { directory = ".", offline } = settings;
    await fs.mkdir(directory, { recursive: true });
    const system = await createSystemContextWithAuth({
        directory,
        ...settings,
    });
    const creation = await producePreset(preset, { ...system, ...settings });
    await runCreation(creation, { offline, system });
    return creation;
}
//# sourceMappingURL=runPreset.js.map