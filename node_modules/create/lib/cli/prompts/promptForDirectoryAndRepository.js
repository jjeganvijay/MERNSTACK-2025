import * as prompts from "@clack/prompts";
import fs from "node:fs/promises";
import { validateNewDirectory } from "./validators.js";
export async function promptForDirectoryAndRepository({ requestedDirectory, requestedRepository, template, }) {
    if (requestedDirectory) {
        if (validateNewDirectory(requestedDirectory)) {
            prompts.log.warn(`The '${requestedDirectory}' directory already exists.`);
        }
        else {
            await fs.mkdir(requestedDirectory, { recursive: true });
            return requestedDirectory;
        }
    }
    const directory = await prompts.text({
        initialValue: template.about?.name &&
            `my-${template.about.name.toLowerCase().replaceAll(" ", "-")}`,
        message: "What directory would you like to create the repository in?",
        validate: validateNewDirectory,
    });
    if (!prompts.isCancel(directory)) {
        await fs.mkdir(directory, { recursive: true });
    }
    return directory;
}
//# sourceMappingURL=promptForDirectoryAndRepository.js.map