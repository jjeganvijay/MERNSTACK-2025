import { createSystemContextWithAuth } from "../system/createSystemContextWithAuth.js";
import { applyBlockModifications } from "./applyBlockModifications.js";
import { produceBlocks } from "./produceBlocks.js";
export async function producePreset(preset, { addons, blocks: blockModifications, directory = ".", mode, offline, options, ...providedSystem }) {
    const system = await createSystemContextWithAuth({
        directory,
        offline,
        ...providedSystem,
    });
    const blocks = applyBlockModifications(preset.blocks, blockModifications);
    const creation = produceBlocks(blocks, {
        addons,
        mode,
        offline,
        options,
        system: { ...system, directory },
    });
    return {
        addons: [],
        files: {},
        requests: [],
        scripts: [],
        suggestions: [],
        ...creation,
    };
}
//# sourceMappingURL=producePreset.js.map