import { mergeAddonsIfUpdated } from "./mergeAddonsIfUpdated.js";
export function getUpdatedBlockAddons(allowedBlocks, blockProductions, newBlockAddons = []) {
    const updated = [];
    for (const newAddons of newBlockAddons) {
        if (!allowedBlocks.has(newAddons.block)) {
            continue;
        }
        const existingProduction = blockProductions.get(newAddons.block);
        if (!existingProduction) {
            updated.push([newAddons.block, newAddons.addons]);
            continue;
        }
        const updatedAddons = mergeAddonsIfUpdated(existingProduction.addons, newAddons.addons);
        if (updatedAddons) {
            updated.push([newAddons.block, updatedAddons]);
        }
    }
    return updated;
}
//# sourceMappingURL=getUpdatedBlockAddons.js.map